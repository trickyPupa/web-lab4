<div class="main-container">
    <app-header [showLogout]="true"></app-header>

    <div class="content">
        <div class="input-section">
            <p-card header="Input Form">
                <div class="p-fluid">
                    <div class="field">
                        <label>X coordinate</label>
                        <p-multiSelect [options]="xOptions" [(ngModel)]="selectedX"
                                       [maxSelectedLabels]="1" [selectionLimit]="1"
                                       optionLabel="toString()"></p-multiSelect>
                    </div>

                    <div class="field">
                        <label>Y coordinate</label>
                        <input type="number" pInputText [(ngModel)]="y"
                               min="-5" max="3" step="0.1">
                    </div>

                    <div class="field">
                        <label>Radius</label>
                        <p-multiSelect [options]="rOptions" [(ngModel)]="selectedR"
                                       [maxSelectedLabels]="1" [selectionLimit]="1"
                                       optionLabel="toString()"></p-multiSelect>
                    </div>

                    <button pButton type="button" label="Check Point"
                            (click)="checkPoint()"></button>
                </div>
            </p-card>
        </div>

        <app-point-graph [points]="points"
                         [currentR]="selectedR[0]"
                         (pointClick)="checkPoint($event)"></app-point-graph>

        <p-table [value]="points" [scrollable]="true" scrollHeight="400px">
            <ng-template pTemplate="header">
                <tr>
                    <th>X</th>
                    <th>Y</th>
                    <th>R</th>
                    <th>Result</th>
                    <th>Timestamp</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-point>
                <tr>
                    <td>{{point.x}}</td>
                    <td>{{point.y}}</td>
                    <td>{{point.r}}</td>
                    <td>{{point.result ? 'Hit' : 'Miss'}}</td>
                    <td>{{point.timestamp | date:'medium'}}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>